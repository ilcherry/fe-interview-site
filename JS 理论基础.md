# 下面是与原生 JS 有关的知识点汇总

## 作用域&作用域链&闭包

**JS 作用域**是词法作用域，指变量的访问范围。主要分为块作用域、函数作用域、模块作用域和全局作用域

当 JavaScript 代码需要访问某个变量时,按照嵌套关系从内向外查找变量，直到找到该变量或者到达全局作用域。如果在所有作用域中都找不到变量，则会抛出 ReferenceError

在 JS 中函数是一等公民，当函数返回函数的时候就形成**闭包**

## 类与继承和原型链

## 异步解决方案发展历程

Ajax -> 事件监听 -> Promise -> 生成器方法 -> async/await

## CommonJS VS ESM

| 对比项                         | **CommonJS (CJS)**                    | **ES Modules (ESM)**              |
| ------------------------------ | ------------------------------------- | --------------------------------- |
| **默认环境**                   | Node.js（服务器端）                   | 浏览器 & Node.js                  |
| **导出方式**                   | `module.exports` / `exports`          | `export` / `export default`       |
| **导入方式**                   | `require()`                           | `import`                          |
| **加载方式**                   | 同步（适用于服务器）                  | 异步（适用于浏览器）              |
| **执行时机**                   | 运行时（`require` 是动态的）          | 编译时（`import` 是静态的）       |
| **能否部分导入**               | 不能按需加载（除非使用解构）          | 可以按需导入特定的部分            |
| **是否支持 `top-level await`** | ❌ 不支持                             | ✅ 支持                           |
| **Tree Shaking**               | ❌ 不支持（Node.js 直接运行所有代码） | ✅ 支持（浏览器可优化未使用代码） |
| **适用场景**                   | 服务器端（Node.js）                   | 现代浏览器、前端项目              |
